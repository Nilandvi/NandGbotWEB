<!DOCTYPE html>
<html>
  <head>
    <title>Личный кабинет пользователя</title>
    <script async src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
      body {
        background-color: var(--tg-theme-bg-color);
      }
      #avatar {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
      }
      #text-field {
        width: 80%;
        height: 200px;
        margin: 20px auto;
        display: block;
        padding: 10px;
        font-size: 16px;
      }
      #submit-button {
        background-color: green;
        color: #fff;
        padding: 10px 20px;
        border-radius: 5px;
        border: none;
        margin: 20px auto;
        display: block;
        font-size: 16px;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <form>
      <input type="text" name="username" placeholder="Введите свое имя">
      <input type="file" name="avatar">
    </form>
    <img id="avatar" src="https://via.placeholder.com/100x100.png?text=Avatar" alt="Avatar">
    <h1 id="username">Имя пользователя</h1>
    <textarea id="text-field" placeholder="Введите текст"></textarea>
    <button id="submit-button">Отправить</button>
    <script>
      // Получение данных из формы и отображение их на странице
      const form = document.querySelector('form');
      const usernameInput = form.querySelector('input[name="username"]');
      const avatarInput = form.querySelector('input[name="avatar"]');
      const avatar = document.querySelector('#avatar');
      const username = document.querySelector('#username');
      
      form.addEventListener('submit', (event) => {
        event.preventDefault();
        if (usernameInput.value !== '') {
          username.textContent = usernameInput.value;
        }
        if (avatarInput.files.length > 0) {
          const reader = new FileReader();
          reader.addEventListener('load', () => {
            avatar.src = reader.result;
          });
          reader.readAsDataURL(avatarInput.files[0]);
        }
      });
      
      // Отправка сообщения в Telegram
      const textField = document.querySelector('#text-field');
      const submitButton = document.querySelector('#submit-button');
      
      submitButton.addEventListener('click', () => {
        const message = textField.value;
        if (message !== '') {
          telegram.sendMessage('@mychannel', message);
        }
      });
    </script>
  </body>
</html>
